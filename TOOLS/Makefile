MAKE=make
#MAKE=gmake # for NetBSD???
SUBDIRS = ALIGNMENT_STARS ARCHIVE ASTROMETRY AUTO_SYNC \
	BAD_PIXELS BRIGHT_STARS BVRI \
	CCD_CALCULATOR COLLIMATION COOLER DARK_MANAGER \
	DAOFIND ENSEMBLE EPHEMERIS \
	EXECUTE_SCRIPT EXPOSE FETCH_PHOTOMETRY FILTER \
	FIND_BLOB FITS_KEYWORDS FITS_TO_GIF \
	FLAGLIST FLATLIGHT FLIP_IMAGE FOCUS FOCUS_ANALYZE FOCUS_MEASURE \
	FOCUS_MODEL  FRAME GOTO \
	GRAPH_STAR  IEXPAND \
	IMAGE_MONITOR KEYWORD_UPDATE LINEARITY LIST_STARS \
	MEASURE_DRIFT MEDIAN MOUNT MOVE \
	NEW_STAR_SYNC NOTIFY OBS_RECORD  \
	PHOTOMETRY REBUILD_STRATEGY_DATABASE \
	REPORT/AAVSO_FILES SCHEDULER SCOPESTATUS SESSION SESSION_SUMMARY \
	SET_FOCUS SET_KEYWORD \
	SETUP_CATALOG SHOW_CATALOG \
	SHOW_IMAGE SHOW_SEQUENCE \
	SPIRAL STACK STAR_MATCH SUMMARIZE_SESSIONS  \
	TIME_SEQ \
	VPHOT WORKER

OBSOLETE = HARTMAN_FOCUS IDLER POLAR_ALIGN SHOW_TRACKER TRACKER_GM2000

all:
	list='$(SUBDIRS)'; for subdir in $$list; do \
	  test "$$subdir" = . || (cd $$subdir && $(MAKE) all) ; \
	  done

clean:
	list='$(SUBDIRS)'; for subdir in $$list; do \
	  test "$$subdir" = . || (cd $$subdir && $(MAKE) clean) ; \
	  done
